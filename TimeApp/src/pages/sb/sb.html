<!--
  Generated template for the SbPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->

<ion-header>

  <ion-navbar>
    <ion-title>创建日程</ion-title>
    <ion-buttons right>
      <button (click)="newProject()"  ion-button>
          发布
      </button>
    </ion-buttons>

  </ion-navbar>

</ion-header>


<ion-content padding>
  <!--<ion-label></ion-label>-->

  <ion-textarea placeholder="要发的内容..." [(ngModel)]="title"></ion-textarea>

  <div ion-item no-padding>
    <div *ngFor="let index of select">
      <div float-left margin-left title="{{pRelAl[index].ran}}">
        <ion-thumbnail ion-button color="light" float-start class="button-border padding-0 " no-margin>
          <img src="http://pics.sc.chinaz.com/files/pic/pic9/201811/bpic9202.jpg" class="button-border">
        </ion-thumbnail>
        <div style="clear: both; font-size:10px;width:56px;overflow: hidden;text-overflow: ellipsis;" text-center >{{pRelAl[index].ran}}</div>
      </div>
    </div>
    <div float-left margin-left (click)="showCheckbox()">
      <ion-thumbnail ion-button color="light" class="div-add-border button-border" no-margin >
        <ion-icon name="add"></ion-icon>
      </ion-thumbnail>
      <div style="clear: both; font-size:10px" text-center></div>
    </div>
  </div>
  <div>
    <ion-buttons>
      <button style="padding:5px;border-radius: 5px;background-color: #f0f0f0" *ngFor="let lb of selectLb" float-left>
        <div float-left>
          <img src="./assets/imgs/i.png"/>
        </div>
        <div float-left style="padding-top: 2px;padding-bottom: 5px;padding-left: 5px">{{lb.lan}}</div>
      </button>
      <button style="padding:5px;border-radius: 5px;background-color: #f0f0f0" (click)="show()">
        <div float-left>
          <img src="./assets/imgs/i.png"/>
        </div>
        <div float-left style="padding-top: 2px;padding-bottom: 5px;padding-left: 5px">添加标签</div>
      </button>
    </ion-buttons>
  </div>
  <div ion-item>
    <ion-label>标签</ion-label>
    <!--<ion-select item-end [(ngModel)]="type" style="width: 100px">-->
      <!--<ion-option [selected]="true" value="BQA">任务</ion-option>-->
      <!--<ion-option [selected]="false" value="BQB">日常</ion-option>-->
      <!--<ion-option [selected]="false" value="BQC">日程</ion-option>-->
      <!--<ion-option [selected]="false" value="BQD">纪念日</ion-option>-->
      <!--<ion-option [selected]="false" value="BQE">备忘录</ion-option>-->
    <!--</ion-select>-->
    <ion-select item-end [(ngModel)]="type" placeholder="标签">
      <ion-option  *ngFor="let lb of lbs" value="{{lb.lai}}">{{lb.lan}}</ion-option>
    </ion-select>
  </div>
  <button ion-item>
    <img src="./assets/imgs/1.png" item-start/>
    <ion-label>时间</ion-label>
    <!--<ion-label text-end>2018年11月20日</ion-label>-->
    <ion-datetime displayFormat="YYYY-MM-DD HH:mm" [(ngModel)]="startTime"></ion-datetime>
  </button>
  <ion-item *ngIf="showA">
    <img src="./assets/imgs/4.png" item-start/>
    <ion-label>重复类型</ion-label>
    <ion-select item-end >
      <ion-option [selected]="true">月</ion-option>
      <ion-option [selected]="false">年</ion-option>
      <ion-option [selected]="false">周</ion-option>
      <ion-option [selected]="false">日</ion-option>
    </ion-select>
  </ion-item>
  <button ion-item  *ngIf="showB">
    <img src="./assets/imgs/1.png" item-start/>
    <ion-label>重复时间</ion-label>
    <ion-datetime displayFormat="MM-DD"></ion-datetime>
  </button>
  <button ion-item *ngIf="showC">
    <img src="./assets/imgs/b.png" item-start/>
    <ion-label>备注</ion-label>
    <ion-input text-end type="text">2018年11月20日</ion-input>
  </button>


</ion-content>
<div *ngIf="isShow" class="backdrop-div" (click)="backdropclick($event)" ontouchmove="event.preventDefault();event.stopPropagation();">
  <ion-backdrop disable-activated class="itemClass" role="presentation" tappable style="opacity: 0.3; transition-delay: initial; transition-property: none;"></ion-backdrop>

  <div class="pop-css">
    <div class="titlecss" text-center>选择标签</div>
    <div *ngFor="let lb of lbs" class="contentcss">
      <div>
        <button float-left style="padding-top: 2px;padding-bottom: 5px;padding-left: 5px" [ngClass]="{selectcss: lb.lau, noselectcss:!lb.lau}" (click)="checkdd(lb)">{{lb.lan}}</button>
      </div>
    </div>

  </div>
</div>
